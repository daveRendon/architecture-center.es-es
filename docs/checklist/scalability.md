---
title: "Lista de comprobación de escalabilidad"
description: "Guía de la lista de comprobación de escalabilidad sobre cuestiones de diseño para el escalado automático de Azure."
author: dragon119
ms.date: 03/24/2017
ms.custom: checklist
ms.openlocfilehash: 250fa2d56720c476bb604c5dba684e938088b6a0
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/14/2017
---
# <a name="scalability-checklist"></a><span data-ttu-id="c9c46-103">Lista de comprobación de escalabilidad</span><span class="sxs-lookup"><span data-stu-id="c9c46-103">Scalability checklist</span></span>
[!INCLUDE [header](../_includes/header.md)]

## <a name="service-design"></a><span data-ttu-id="c9c46-104">Diseño de servicios</span><span class="sxs-lookup"><span data-stu-id="c9c46-104">Service design</span></span>
* <span data-ttu-id="c9c46-105">**Crear particiones de la carga de trabajo**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-105">**Partition the workload**.</span></span> <span data-ttu-id="c9c46-106">Diseñe las partes del proceso de forma que sean discretas y se puedan descomponer.</span><span class="sxs-lookup"><span data-stu-id="c9c46-106">Design parts of the process to be discrete and decomposable.</span></span> <span data-ttu-id="c9c46-107">Reduzca el tamaño de cada parte, al tiempo que sigue las reglas habituales de separación de problemas y el principio de responsabilidad única.</span><span class="sxs-lookup"><span data-stu-id="c9c46-107">Minimize the size of each part, while following the usual rules for separation of concerns and the single responsibility principle.</span></span> <span data-ttu-id="c9c46-108">Esto permite que las partes componentes se distribuyan de forma que se maximice el uso de cada unidad de proceso (como un rol o un servidor de base de datos).</span><span class="sxs-lookup"><span data-stu-id="c9c46-108">This allows the component parts to be distributed in a way that maximizes use of each compute unit (such as a role or database server).</span></span> <span data-ttu-id="c9c46-109">También resulta más fácil escalar la aplicación al agregar instancias de recursos específicos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-109">It also makes it easier to scale the application by adding instances of specific resources.</span></span> <span data-ttu-id="c9c46-110">Para obtener más información, consulte [Compute Partitioning Guidance](https://msdn.microsoft.com/library/dn589773.aspx)(Guía de creación de particiones de procesos).</span><span class="sxs-lookup"><span data-stu-id="c9c46-110">For more information, see [Compute Partitioning Guidance](https://msdn.microsoft.com/library/dn589773.aspx).</span></span>
* <span data-ttu-id="c9c46-111">**Diseñar para escalar**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-111">**Design for scaling**.</span></span> <span data-ttu-id="c9c46-112">El escalado permite a las aplicaciones reaccionar a una carga variable aumentando y disminuyendo el número de instancias de roles, colas y otros servicios que usan.</span><span class="sxs-lookup"><span data-stu-id="c9c46-112">Scaling allows applications to react to variable load by increasing and decreasing the number of instances of roles, queues, and other services they use.</span></span> <span data-ttu-id="c9c46-113">No obstante, la aplicación debe diseñarse teniendo en cuenta esto.</span><span class="sxs-lookup"><span data-stu-id="c9c46-113">However, the application must be designed with this in mind.</span></span> <span data-ttu-id="c9c46-114">Por ejemplo, la aplicación y los servicios que utiliza deben ser sin estado, para permitir que las solicitudes se enruten a cualquier instancia.</span><span class="sxs-lookup"><span data-stu-id="c9c46-114">For example, the application and the services it uses must be stateless, to allow requests to be routed to any instance.</span></span> <span data-ttu-id="c9c46-115">Esto también impide que la adición o la eliminación de instancias específicas afecten negativamente a los usuarios actuales.</span><span class="sxs-lookup"><span data-stu-id="c9c46-115">This also prevents the addition or removal of specific instances from adversely impacting current users.</span></span> <span data-ttu-id="c9c46-116">También debe implementar la configuración o la detección automática de instancias a medida que se agregan y eliminan, de forma que el código de la aplicación pueda realizar el enrutamiento necesario.</span><span class="sxs-lookup"><span data-stu-id="c9c46-116">You should also implement configuration or auto-detection of instances as they are added and removed, so that code in the application can perform the necessary routing.</span></span> <span data-ttu-id="c9c46-117">Por ejemplo, una aplicación web puede utilizar un conjunto de colas con un enfoque round-robin para enrutar las solicitudes a los servicios de fondo que se ejecutan en roles de trabajador.</span><span class="sxs-lookup"><span data-stu-id="c9c46-117">For example, a web application might use a set of queues in a round-robin approach to route requests to background services running in worker roles.</span></span> <span data-ttu-id="c9c46-118">La aplicación web debe poder detectar los cambios en el número de colas, con el fin de enrutar correctamente las solicitudes y equilibrar la carga en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c9c46-118">The web application must be able to detect changes in the number of queues, to successfully route requests and balance the load on the application.</span></span>
* <span data-ttu-id="c9c46-119">**Escalar como unidad**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-119">**Scale as a unit**.</span></span> <span data-ttu-id="c9c46-120">Planee la incorporación de recursos adicionales para adaptarse al crecimiento.</span><span class="sxs-lookup"><span data-stu-id="c9c46-120">Plan for additional resources to accommodate growth.</span></span> <span data-ttu-id="c9c46-121">Para cada recurso, conozca los límites de escalado superiores y utilice el particionamiento o la descomposición para traspasar estos límites.</span><span class="sxs-lookup"><span data-stu-id="c9c46-121">For each resource, know the upper scaling limits, and use sharding or decomposition to go beyond these limits.</span></span> <span data-ttu-id="c9c46-122">Determine las unidades de escala para el sistema en términos de conjuntos de recursos bien definidos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-122">Determine the scale units for the system in terms of well-defined sets of resources.</span></span> <span data-ttu-id="c9c46-123">Esto facilita la aplicación de operaciones de escalado horizontal y tiende a evitar los impactos negativos en la aplicación debidos a las limitaciones impuestas por la falta de recursos en alguna parte del sistema global.</span><span class="sxs-lookup"><span data-stu-id="c9c46-123">This makes applying scale-out operations easier, and less prone to negative impact on the application through limitations imposed by lack of resources in some part of the overall system.</span></span> <span data-ttu-id="c9c46-124">Por ejemplo, la incorporación de un número x de roles web y de trabajo podría requerir un número y de colas adicionales y un número z de cuentas de almacenamiento para administrar la carga de trabajo adicional generadas por los roles.</span><span class="sxs-lookup"><span data-stu-id="c9c46-124">For example, adding x number of web and worker roles might require y number of additional queues and z number of storage accounts to handle the additional workload generated by the roles.</span></span> <span data-ttu-id="c9c46-125">Así que, una unidad de escalado podría estar formada por un número x de roles web y de trabajo, un número *y* de colas y un número *z* de cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c9c46-125">So a scale unit could consist of x web and worker roles, *y* queues, and *z* storage accounts.</span></span> <span data-ttu-id="c9c46-126">Diseñe la aplicación de forma que sea fácil de escalar agregando una o varias unidades de escalado.</span><span class="sxs-lookup"><span data-stu-id="c9c46-126">Design the application so that it's easily scaled by adding one or more scale units.</span></span>
* <span data-ttu-id="c9c46-127">**Evitar afinidad del cliente**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-127">**Avoid client affinity**.</span></span> <span data-ttu-id="c9c46-128">Siempre que sea posible, asegúrese de que la aplicación no requiere afinidad.</span><span class="sxs-lookup"><span data-stu-id="c9c46-128">Where possible, ensure that the application does not require affinity.</span></span> <span data-ttu-id="c9c46-129">Así, las solicitudes se pueden enrutar a cualquier instancia y el número de instancias carece de importancia.</span><span class="sxs-lookup"><span data-stu-id="c9c46-129">Requests can thus be routed to any instance, and the number of instances is irrelevant.</span></span> <span data-ttu-id="c9c46-130">Esto también evita la sobrecarga de tener que almacenar, recuperar y mantener la información de estado para cada usuario.</span><span class="sxs-lookup"><span data-stu-id="c9c46-130">This also avoids the overhead of storing, retrieving, and maintaining state information for each user.</span></span>
* <span data-ttu-id="c9c46-131">**Aprovechar las características de escalado automático de la plataforma**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-131">**Take advantage of platform autoscaling features**.</span></span> <span data-ttu-id="c9c46-132">Cuando la plataforma de hospedaje admite una función de escalado automático, como Escalado automático de Azure, es preferible su uso al de mecanismos de terceros o personalizados a menos que el mecanismo integrado no pueda cumplir los requisitos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-132">Where the hosting platform supports an autoscaling capability, such as Azure Autoscale, prefer it to custom or third-party mechanisms unless the built-in mechanism can't fulfill your requirements.</span></span> <span data-ttu-id="c9c46-133">Use reglas de escalado programadas siempre que sea posible para garantizar que los recursos estén disponibles sin retrasos iniciales, pero agregue escalado automático reactivo a las reglas cuando sea apropiado para hacer frente a cambios inesperados en la demanda.</span><span class="sxs-lookup"><span data-stu-id="c9c46-133">Use scheduled scaling rules where possible to ensure resources are available without a start-up delay, but add reactive autoscaling to the rules where appropriate to cope with unexpected changes in demand.</span></span> <span data-ttu-id="c9c46-134">Puede utilizar las operaciones de escalado automático de Service Management API para ajustar el escalado automático y para agregar contadores personalizados a las reglas.</span><span class="sxs-lookup"><span data-stu-id="c9c46-134">You can use the autoscaling operations in the Service Management API to adjust autoscaling, and to add custom counters to rules.</span></span> <span data-ttu-id="c9c46-135">Para más información, consulte [Instrucciones de escalado automático](../best-practices/auto-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="c9c46-135">For more information, see [Auto-scaling guidance](../best-practices/auto-scaling.md).</span></span>
* <span data-ttu-id="c9c46-136">**Descargar tareas de uso intensivo de CPU y E/S como tareas en segundo plano**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-136">**Offload intensive CPU/IO tasks as background tasks**.</span></span> <span data-ttu-id="c9c46-137">Si se espera que una solicitud a un servicio tarde mucho tiempo en ejecutarse o que absorba una cantidad considerable de recursos, descargue el procesamiento de esta solicitud a una tarea independiente.</span><span class="sxs-lookup"><span data-stu-id="c9c46-137">If a request to a service is expected to take a long time to run or absorb considerable resources, offload the processing for this request to a separate task.</span></span> <span data-ttu-id="c9c46-138">Utilice roles de trabajo o trabajos en segundo plano (en función de la plataforma de hospedaje) para ejecutar estas tareas.</span><span class="sxs-lookup"><span data-stu-id="c9c46-138">Use worker roles or background jobs (depending on the hosting platform) to execute these tasks.</span></span> <span data-ttu-id="c9c46-139">Esta estrategia permite que el servicio continúe recibiendo más solicitudes y siga respondiendo.</span><span class="sxs-lookup"><span data-stu-id="c9c46-139">This strategy enables the service to continue receiving further requests and remain responsive.</span></span>  <span data-ttu-id="c9c46-140">Para obtener más información, consulte [Background jobs guidance](../best-practices/background-jobs.md)(Guía de trabajos en segundo plano).</span><span class="sxs-lookup"><span data-stu-id="c9c46-140">For more information, see [Background jobs guidance](../best-practices/background-jobs.md).</span></span>
* <span data-ttu-id="c9c46-141">**Distribuir la carga de trabajo para tareas en segundo plano**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-141">**Distribute the workload for background tasks**.</span></span> <span data-ttu-id="c9c46-142">Donde haya muchas tareas en segundo plano, o las tareas requieran mucho tiempo o recursos, distribuya el trabajo en varias unidades de proceso (por ejemplo, roles de trabajo o trabajos en segundo plano).</span><span class="sxs-lookup"><span data-stu-id="c9c46-142">Where there are many background tasks, or the tasks require considerable time or resources, spread the work across multiple compute units (such as worker roles or background jobs).</span></span> <span data-ttu-id="c9c46-143">Para ver una posible solución, consulte [Competing Consumers Pattern](https://msdn.microsoft.com/library/dn568101.aspx)(Patrón de competencia de consumidores).</span><span class="sxs-lookup"><span data-stu-id="c9c46-143">For one possible solution, see the [Competing Consumers Pattern](https://msdn.microsoft.com/library/dn568101.aspx).</span></span>
* <span data-ttu-id="c9c46-144">**Considere la posibilidad de pasar a una arquitectura *shared-nothing***.</span><span class="sxs-lookup"><span data-stu-id="c9c46-144">**Consider moving towards a *shared-nothing* architecture**.</span></span> <span data-ttu-id="c9c46-145">Una arquitectura shared-nothing emplea nodos autosuficientes e independientes que no tienen ningún punto de contención (como servicios o almacenamiento compartidos).</span><span class="sxs-lookup"><span data-stu-id="c9c46-145">A shared-nothing architecture uses independent, self-sufficient nodes that have no single point of contention (such as shared services or storage).</span></span> <span data-ttu-id="c9c46-146">En teoría, este sistema puede escalarse casi indefinidamente.</span><span class="sxs-lookup"><span data-stu-id="c9c46-146">In theory, such a system can scale almost indefinitely.</span></span> <span data-ttu-id="c9c46-147">Si bien un enfoque shared-nothing no suele ser práctico en líneas generales para la mayoría de las aplicaciones, puede ofrecer oportunidades para diseñar haciauna mejor escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="c9c46-147">While a fully shared-nothing approach is generally not practical for most applications, it may provide opportunities to design for better scalability.</span></span> <span data-ttu-id="c9c46-148">Por ejemplo, evitar el uso del estado de sesión del lado servidor, la afinidad del cliente y el particionamiento de datos constituyen buenos ejemplos de cómo moverse hacia un arquitectura shared-nothing.</span><span class="sxs-lookup"><span data-stu-id="c9c46-148">For example, avoiding the use of server-side session state, client affinity, and data partitioning are good examples of moving towards a shared-nothing architecture.</span></span>

## <a name="data-management"></a><span data-ttu-id="c9c46-149">Administración de datos</span><span class="sxs-lookup"><span data-stu-id="c9c46-149">Data management</span></span>
* <span data-ttu-id="c9c46-150">**Use particiones de datos**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-150">**Use data partitioning**.</span></span> <span data-ttu-id="c9c46-151">Divida los datos entre varias bases de datos y servidores de base de datos o diseñe la aplicación para que utilice servicios de almacenamiento de datos que puedan proporcionar estas particiones de forma transparente (entre los ejemplos se incluyen Base de datos elástica de Elastic Database de Azure SQL Database y Azure Table Storage).</span><span class="sxs-lookup"><span data-stu-id="c9c46-151">Divide the data across multiple databases and database servers, or design the application to use data storage services that can provide this partitioning transparently (examples include Azure SQL Database Elastic Database, and Azure Table storage).</span></span> <span data-ttu-id="c9c46-152">Este enfoque puede ayudar a maximizar el rendimiento y permitir un escalado más fácil.</span><span class="sxs-lookup"><span data-stu-id="c9c46-152">This approach can help to maximize performance and allow easier scaling.</span></span> <span data-ttu-id="c9c46-153">Existen diferentes técnicas de particionamiento, como horizontal, vertical y funcional.</span><span class="sxs-lookup"><span data-stu-id="c9c46-153">There are different partitioning techniques, such as horizontal, vertical, and functional.</span></span> <span data-ttu-id="c9c46-154">Puede utilizar una combinación de ellas para aprovechar al máximo el rendimiento mejorado de consultas, simplificar la escalabilidad, flexibilizar la administración, mejorar la disponibilidad y hacer coincidir el tipo de almacén con los datos que va a contener.</span><span class="sxs-lookup"><span data-stu-id="c9c46-154">You can use a combination of these to achieve maximum benefit from increased query performance, simpler scalability, more flexible management, better availability, and to match the type of store to the data it will hold.</span></span> <span data-ttu-id="c9c46-155">Además, considere la posibilidad de utilizar distintos tipos de almacén de datos para tipos de datos diferentes, eligiendo los tipos en función de si están optimizados para el tipo de datos específico.</span><span class="sxs-lookup"><span data-stu-id="c9c46-155">Also, consider using different types of data store for different types of data, choosing the types based on how well they are optimized for the specific type of data.</span></span> <span data-ttu-id="c9c46-156">Esto puede incluir el uso de almacenamiento de tablas, una base de datos de documentos o un almacén de datos de familia de columnas en lugar de, o como, una base de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="c9c46-156">This may include using table storage, a document database, or a column-family data store, instead of, or as well as, a relational database.</span></span> <span data-ttu-id="c9c46-157">Para obtener más información, consulte [Data partitioning guidance](../best-practices/data-partitioning.md)(Guía de creación de particiones de datos).</span><span class="sxs-lookup"><span data-stu-id="c9c46-157">For more information, see [Data partitioning guidance](../best-practices/data-partitioning.md).</span></span>
* <span data-ttu-id="c9c46-158">**Diseñe para coherencia final**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-158">**Design for eventual consistency**.</span></span> <span data-ttu-id="c9c46-159">La coherencia final mejora la escalabilidad al reducir o suprimir el tiempo necesario para sincronizar los datos relacionados con particiones en varios almacenes.</span><span class="sxs-lookup"><span data-stu-id="c9c46-159">Eventual consistency improves scalability by reducing or removing the time needed to synchronize related data partitioned across multiple stores.</span></span> <span data-ttu-id="c9c46-160">La desventaja es que los datos no son siempre coherentes cuando se leen y algunas operaciones de escritura pueden provocar conflictos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-160">The cost is that data is not always consistent when it is read, and some write operations may cause conflicts.</span></span> <span data-ttu-id="c9c46-161">La coherencia final es perfecta para situaciones en las que se leen con frecuencia los mismos datos pero no se suelen escribir tan a menudo.</span><span class="sxs-lookup"><span data-stu-id="c9c46-161">Eventual consistency is ideal for situations where the same data is read frequently but written infrequently.</span></span> <span data-ttu-id="c9c46-162">Para más información, consulte [Data consistency primer](https://msdn.microsoft.com/library/dn589800.aspx)(Información básica sobre la coherencia de datos).</span><span class="sxs-lookup"><span data-stu-id="c9c46-162">For more information, see the [Data Consistency Primer](https://msdn.microsoft.com/library/dn589800.aspx).</span></span>
* <span data-ttu-id="c9c46-163">**Reducir interacciones fragmentadas entre componentes y servicios**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-163">**Reduce chatty interactions between components and services**.</span></span> <span data-ttu-id="c9c46-164">Evite diseñar interacciones en las que una aplicación deba realizar varias llamadas a un servicio (cada una de las cuales devuelve una pequeña cantidad de datos) en lugar de una única llamada que pueda devolver todos los datos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-164">Avoid designing interactions in which an application is required to make multiple calls to a service (each of which returns a small amount of data), rather than a single call that can return all of the data.</span></span> <span data-ttu-id="c9c46-165">Siempre que sea posible, combine varias operaciones relacionadas en una única solicitud cuando la llamada se realiza a un servicio o componente que tiene una latencia apreciable.</span><span class="sxs-lookup"><span data-stu-id="c9c46-165">Where possible, combine several related operations into a single request when the call is to a service or component that has noticeable latency.</span></span> <span data-ttu-id="c9c46-166">Esto facilita la supervisión del rendimiento y la optimización de operaciones complejas.</span><span class="sxs-lookup"><span data-stu-id="c9c46-166">This makes it easier to monitor performance and optimize complex operations.</span></span> <span data-ttu-id="c9c46-167">Por ejemplo, utilice procedimientos almacenados en bases de datos para encapsular una lógica compleja y reducir el número de recorridos de ida y vuelta y el bloqueo de recursos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-167">For example, use stored procedures in databases to encapsulate complex logic, and reduce the number of round trips and resource locking.</span></span>
* <span data-ttu-id="c9c46-168">**Usar colas para equilibrar la carga de escrituras de datos de alta velocidad**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-168">**Use queues to level the load for high velocity data writes**.</span></span> <span data-ttu-id="c9c46-169">Los incrementos en la demanda de un servicio pueden saturarlo y provocar errores cada vez mayores.</span><span class="sxs-lookup"><span data-stu-id="c9c46-169">Surges in demand for a service can overwhelm that service and cause escalating failures.</span></span> <span data-ttu-id="c9c46-170">Para evitar esto, considere la posibilidad de implementar el [Patrón de equilibrio de carga basado en colas](https://msdn.microsoft.com/library/dn589783.aspx).</span><span class="sxs-lookup"><span data-stu-id="c9c46-170">To prevent this, consider implementing the [Queue-Based Load Leveling Pattern](https://msdn.microsoft.com/library/dn589783.aspx).</span></span> <span data-ttu-id="c9c46-171">Utilice una cola que actúe como búfer entre una tarea y un servicio que invoca.</span><span class="sxs-lookup"><span data-stu-id="c9c46-171">Use a queue that acts as a buffer between a task and a service that it invokes.</span></span> <span data-ttu-id="c9c46-172">Esto puede suavizar las cargas pesadas intermitentes que, de lo contrario, podrían provocar errores del servicio o tiempo de espera de la tarea.</span><span class="sxs-lookup"><span data-stu-id="c9c46-172">This can smooth intermittent heavy loads that may otherwise cause the service to fail or the task to time out.</span></span>
* <span data-ttu-id="c9c46-173">**Minimizar la carga en el almacén de datos**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-173">**Minimize the load on the data store**.</span></span> <span data-ttu-id="c9c46-174">El almacén de datos es por lo general un cuello de botella en el procesamiento, un recurso costoso que no suele resultar fácil de escalar horizontalmente. Siempre que sea posible, quite lógica (por ejemplo, el procesamiento de documentos XML u objetos JSON) del almacén de datos y realice el procesamiento dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c9c46-174">The data store is commonly a processing bottleneck, a costly resource, and often not easy to scale out. Where possible, remove logic (such as processing XML documents or JSON objects) from the data store, and perform processing within the application.</span></span> <span data-ttu-id="c9c46-175">Por ejemplo, en lugar de pasar XML a la base de datos (que no sea como cadena opaca para el almacenamiento), serialice o deserialice el XML dentro de la capa de aplicación y páselo de forma nativa al almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-175">For example, instead of passing XML to the database (other than as an opaque string for storage), serialize or deserialize the XML within the application layer and pass it in a form that is native to the data store.</span></span> <span data-ttu-id="c9c46-176">Suele ser mucho más fácil escalar horizontalmente la aplicación que el almacén de datos, por lo que debe intentar hacer la mayor cantidad posible del procesamiento de proceso intensivo dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c9c46-176">It's typically much easier to scale out the application than the data store, so you should attempt to do as much of the compute-intensive processing as possible within the application.</span></span>
* <span data-ttu-id="c9c46-177">**Minimizar el volumen de datos recuperados**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-177">**Minimize the volume of data retrieved**.</span></span> <span data-ttu-id="c9c46-178">Recupere solo los datos que necesita especificando las columnas y utilizando criterios para seleccionar las filas.</span><span class="sxs-lookup"><span data-stu-id="c9c46-178">Retrieve only the data you require by specifying columns and using criteria to select rows.</span></span> <span data-ttu-id="c9c46-179">Utilice parámetros de valores de tabla y el nivel de aislamiento adecuado.</span><span class="sxs-lookup"><span data-stu-id="c9c46-179">Make use of table value parameters and the appropriate isolation level.</span></span> <span data-ttu-id="c9c46-180">Use mecanismos, como etiquetas de entidad, para evitar tener que recuperar datos innecesariamente.</span><span class="sxs-lookup"><span data-stu-id="c9c46-180">Use mechanisms like entity tags to avoid retrieving data unnecessarily.</span></span>
* <span data-ttu-id="c9c46-181">**Utilizar la caché de forma agresiva**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-181">**Aggressively use caching**.</span></span> <span data-ttu-id="c9c46-182">Utilice el almacenamiento en caché siempre que sea posible para reducir la carga de los recursos y servicios que generan o proporcionan datos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-182">Use caching wherever possible to reduce the load on resources and services that generate or deliver data.</span></span> <span data-ttu-id="c9c46-183">El almacenamiento en caché normalmente es adecuado para datos que sean relativamente estáticos o cuya obtención requiera un procesamiento considerable.</span><span class="sxs-lookup"><span data-stu-id="c9c46-183">Caching is typically suited to data that is relatively static, or that requires considerable processing to obtain.</span></span> <span data-ttu-id="c9c46-184">El almacenamiento en caché debe realizarse en todos los niveles donde sea adecuado en cada capa de la aplicación, incluido el acceso a datos y la generación de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="c9c46-184">Caching should occur at all levels where appropriate in each layer of the application, including data access and user interface generation.</span></span> <span data-ttu-id="c9c46-185">Para obtener más información, consulte [Caching Guidance](../best-practices/caching.md)(Guía de almacenamiento en caché).</span><span class="sxs-lookup"><span data-stu-id="c9c46-185">For more information, see the [Caching Guidance](../best-practices/caching.md).</span></span>
* <span data-ttu-id="c9c46-186">**Controlar el crecimiento y la retención de datos**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-186">**Handle data growth and retention**.</span></span> <span data-ttu-id="c9c46-187">La cantidad de datos almacenados por una aplicación crece con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="c9c46-187">The amount of data stored by an application grows over time.</span></span> <span data-ttu-id="c9c46-188">Este crecimiento aumenta los costos de almacenamiento e incrementa la latencia en el acceso a los datos, lo que afecta al rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c9c46-188">This growth increases storage costs, and increases latency when accessing the data — which affects application throughput and performance.</span></span> <span data-ttu-id="c9c46-189">Es posible archivar periódicamente algunos de los datos antiguos a los que ya no se tiene acceso o mover los datos a los que rara vez se tiene acceso a un almacén de larga duración que sea más económico, aunque la latencia de acceso sea mayor.</span><span class="sxs-lookup"><span data-stu-id="c9c46-189">It may be possible to periodically archive some of the old data that is no longer accessed, or move data that is rarely accessed into long-term storage that is more cost efficient, even if the access latency is higher.</span></span>
* <span data-ttu-id="c9c46-190">**Optimizar los objetos de transferencia de datos (DTO) utilizando un formato binario eficaz**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-190">**Optimize Data Transfer Objects (DTOs) using an efficient binary format**.</span></span> <span data-ttu-id="c9c46-191">Los DTO se pasan entre las capas de una aplicación muchas veces.</span><span class="sxs-lookup"><span data-stu-id="c9c46-191">DTOs are passed between the layers of an application many times.</span></span> <span data-ttu-id="c9c46-192">Al minimizar el tamaño se reduce la carga en los recursos y la red.</span><span class="sxs-lookup"><span data-stu-id="c9c46-192">Minimizing the size reduces the load on resources and the network.</span></span> <span data-ttu-id="c9c46-193">Sin embargo, busque un equilibrio entre el ahorro y la sobrecarga de convertir los datos al formato requerido en cada ubicación donde se utiliza.</span><span class="sxs-lookup"><span data-stu-id="c9c46-193">However, balance the savings with the overhead of converting the data to the required format in each location where it is used.</span></span> <span data-ttu-id="c9c46-194">Adopte un formato que tenga la máxima interoperabilidad para permitir la reutilización fácil de un componente.</span><span class="sxs-lookup"><span data-stu-id="c9c46-194">Adopt a format that has the maximum interoperability to enable easy reuse of a component.</span></span>
* <span data-ttu-id="c9c46-195">**Establecer control de caché**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-195">**Set cache control**.</span></span> <span data-ttu-id="c9c46-196">Diseñe y configure la aplicación para usar el almacenamiento en caché de salida o el almacenamiento en caché de fragmentos siempre que sea posible, a fin de minimizar la carga de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="c9c46-196">Design and configure the application to use output caching or fragment caching where possible, to minimize processing load.</span></span>
* <span data-ttu-id="c9c46-197">**Habilitar el almacenamiento en caché del cliente**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-197">**Enable client side caching**.</span></span> <span data-ttu-id="c9c46-198">Las aplicaciones web deben habilitar la configuración de la caché en el contenido que puede almacenarse en caché.</span><span class="sxs-lookup"><span data-stu-id="c9c46-198">Web applications should enable cache settings on the content that can be cached.</span></span> <span data-ttu-id="c9c46-199">Esto suele estar desactivado de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c9c46-199">This is commonly disabled by default.</span></span> <span data-ttu-id="c9c46-200">Configure el servidor a fin de proporcionar los encabezados de control de caché adecuados para habilitar el almacenamiento en caché de contenido en servidores proxy y clientes.</span><span class="sxs-lookup"><span data-stu-id="c9c46-200">Configure the server to deliver the appropriate cache control headers to enable caching of content on proxy servers and clients.</span></span>
* <span data-ttu-id="c9c46-201">**Usar Azure Blob Storage y Azure Content Delivery Network para reducir la carga en la aplicación**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-201">**Use Azure blob storage and the Azure Content Delivery Network to reduce the load on the application**.</span></span> <span data-ttu-id="c9c46-202">Considere la posibilidad de almacenar contenido público estático o relativamente estático como imágenes, recursos, scripts y hojas de estilos en el almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="c9c46-202">Consider storing static or relatively static public content, such as images, resources, scripts, and style sheets, in blob storage.</span></span> <span data-ttu-id="c9c46-203">Este enfoque libera la aplicación de la carga producida por la generación dinámica de este contenido para cada solicitud.</span><span class="sxs-lookup"><span data-stu-id="c9c46-203">This approach relieves the application of the load caused by dynamically generating this content for each request.</span></span> <span data-ttu-id="c9c46-204">Además, considere la posibilidad de usar Content Delivery Network para almacenar en caché este contenido y ofrecérselo a los clientes.</span><span class="sxs-lookup"><span data-stu-id="c9c46-204">Additionally, consider using the Content Delivery Network to cache this content and deliver it to clients.</span></span> <span data-ttu-id="c9c46-205">Con Content Delivery Network puede mejorar el rendimiento en el cliente porque el contenido se proporciona desde el centro de datos geográficamente más cercano que contiene una caché de Content Delivery Network.</span><span class="sxs-lookup"><span data-stu-id="c9c46-205">Using the Content Delivery Network can improve performance at the client because the content is delivered from the geographically closest datacenter that contains a Content Delivery Network cache.</span></span> <span data-ttu-id="c9c46-206">Para más información, consulte el [Content Delivery Network Guidance](../best-practices/cdn.md)(Instrucciones sobre la red de entrega de contenido).</span><span class="sxs-lookup"><span data-stu-id="c9c46-206">For more information, see the [Content Delivery Network Guidance](../best-practices/cdn.md).</span></span>
* <span data-ttu-id="c9c46-207">**Optimizar y ajustar consultas SQL e índices**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-207">**Optimize and tune SQL queries and indexes**.</span></span> <span data-ttu-id="c9c46-208">Algunas instrucciones o construcciones de T-SQL pueden tener un impacto en el rendimiento, que se puede reducir al optimizar el código en un procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="c9c46-208">Some T-SQL statements or constructs may have an impact on performance that can be reduced by optimizing the code in a stored procedure.</span></span> <span data-ttu-id="c9c46-209">Por ejemplo, evite la conversión de tipos **datetime** a tipos **varchar** antes de comparar con un valor literal **datetime**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-209">For example, avoid converting **datetime** types to a **varchar** before comparing with a **datetime** literal value.</span></span> <span data-ttu-id="c9c46-210">Utilice en su lugar funciones de comparación de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="c9c46-210">Use date/time comparison functions instead.</span></span> <span data-ttu-id="c9c46-211">La falta de índices adecuados puede ralentizar la ejecución de la consulta.</span><span class="sxs-lookup"><span data-stu-id="c9c46-211">Lack of appropriate indexes can also slow query execution.</span></span> <span data-ttu-id="c9c46-212">Si utiliza un marco de asignación relacional o de objetos, entienda cómo funciona y cómo puede afectar al rendimiento de la capa de acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-212">If you use an object/relational mapping framework, understand how it works and how it may affect performance of the data access layer.</span></span> <span data-ttu-id="c9c46-213">Para obtener más información, consulte [Optimizar consultas](https://technet.microsoft.com/library/ms176005.aspx).</span><span class="sxs-lookup"><span data-stu-id="c9c46-213">For more information, see [Query Tuning](https://technet.microsoft.com/library/ms176005.aspx).</span></span>
* <span data-ttu-id="c9c46-214">**Considerar la posibilidad de desnormalizar datos**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-214">**Consider de-normalizing data**.</span></span> <span data-ttu-id="c9c46-215">La normalización de datos ayuda a evitar la duplicación y las incoherencias.</span><span class="sxs-lookup"><span data-stu-id="c9c46-215">Data normalization helps to avoid duplication and inconsistency.</span></span> <span data-ttu-id="c9c46-216">Sin embargo, mantener varios índices, comprobar la integridad referencial, realizar varios accesos a fragmentos pequeños de datos y combinar tablas para volver a ensamblar los datos supone una sobrecarga que puede afectar al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c9c46-216">However, maintaining multiple indexes, checking for referential integrity, performing multiple accesses to small chunks of data, and joining tables to reassemble the data imposes an overhead that can affect performance.</span></span> <span data-ttu-id="c9c46-217">Piense si es aceptable tener un volumen de almacenamiento de información adicional y duplicación para reducir la carga en el almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-217">Consider if some additional storage volume and duplication is acceptable in order to reduce the load on the data store.</span></span> <span data-ttu-id="c9c46-218">Además, vea si se puede confiar en la propia aplicación (que normalmente será más fácil de escalar) para realizar tareas, como la administración de la integridad referencial, a fin de reducir la carga en el almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-218">Also, consider if the application itself (which is typically easier to scale) can be relied upon to take over tasks such as managing referential integrity in order to reduce the load on the data store.</span></span> <span data-ttu-id="c9c46-219">Para obtener más información, consulte [Data partitioning guidance](../best-practices/data-partitioning.md)(Guía de creación de particiones de datos).</span><span class="sxs-lookup"><span data-stu-id="c9c46-219">For more information, see [Data partitioning guidance](../best-practices/data-partitioning.md).</span></span>

## <a name="service-implementation"></a><span data-ttu-id="c9c46-220">Implementación del servicio</span><span class="sxs-lookup"><span data-stu-id="c9c46-220">Service implementation</span></span>
* <span data-ttu-id="c9c46-221">**Usar llamadas asincrónicas**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-221">**Use asynchronous calls**.</span></span> <span data-ttu-id="c9c46-222">Siempre que sea posible, use código asincrónico al obtener acceso a recursos o servicios que pueden estar limitados por ancho de banda de E/S o de red, o que tienen una latencia apreciable, para evitar bloquear el subproceso que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="c9c46-222">Use asynchronous code wherever possible when accessing resources or services that may be limited by I/O or network bandwidth, or that have a noticeable latency, in order to avoid locking the calling thread.</span></span> <span data-ttu-id="c9c46-223">Para implementar operaciones asincrónicas, utilice el [patrón asincrónico basado en tareas (TAP)](https://msdn.microsoft.com/library/hh873175.aspx).</span><span class="sxs-lookup"><span data-stu-id="c9c46-223">To implement asynchronous operations, use the [Task-based Asynchronous Pattern (TAP)](https://msdn.microsoft.com/library/hh873175.aspx).</span></span>
* <span data-ttu-id="c9c46-224">**Evitar bloquear recursos y utilizar en su lugar un enfoque optimista**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-224">**Avoid locking resources, and use an optimistic approach instead**.</span></span> <span data-ttu-id="c9c46-225">No bloquee nunca el acceso a recursos como almacenamiento u otros servicios que tienen una latencia apreciable, porque esto suele provocar un rendimiento deficiente.</span><span class="sxs-lookup"><span data-stu-id="c9c46-225">Never lock access to resources such as storage or other services that have noticeable latency, because this is a primary cause of poor performance.</span></span> <span data-ttu-id="c9c46-226">Utilice siempre enfoques optimistas para administrar operaciones simultáneas, como escribir en el almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c9c46-226">Always use optimistic approaches to managing concurrent operations, such as writing to storage.</span></span> <span data-ttu-id="c9c46-227">Use características de la capa de almacenamiento para administrar los conflictos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-227">Use features of the storage layer to manage conflicts.</span></span> <span data-ttu-id="c9c46-228">En aplicaciones distribuidas, los datos pueden ser solo coherentes en último lugar.</span><span class="sxs-lookup"><span data-stu-id="c9c46-228">In distributed applications, data may be only eventually consistent.</span></span>
* <span data-ttu-id="c9c46-229">**Comprimir datos altamente comprimibles a través de redes de alta latencia y ancho de banda bajo**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-229">**Compress highly compressible data over high latency, low bandwidth networks**.</span></span> <span data-ttu-id="c9c46-230">En la mayoría de los casos, en una aplicación web, el volumen mayor de datos generados por la aplicación y que se pasan a través de la red son respuestas HTTP a solicitudes de cliente.</span><span class="sxs-lookup"><span data-stu-id="c9c46-230">In the majority of cases in a web application, the largest volume of data generated by the application and passed over the network is HTTP responses to client requests.</span></span> <span data-ttu-id="c9c46-231">La compresión HTTP puede reducir esto considerablemente, en especial para el contenido estático.</span><span class="sxs-lookup"><span data-stu-id="c9c46-231">HTTP compression can reduce this considerably, especially for static content.</span></span> <span data-ttu-id="c9c46-232">De esta forma, se puede reducir el costo y la carga en la red, si bien la compresión de contenido dinámico aplica una carga fraccionalmente mayor en el servidor.</span><span class="sxs-lookup"><span data-stu-id="c9c46-232">This can reduce cost as well as reducing the load on the network, though compressing dynamic content does apply a fractionally higher load on the server.</span></span> <span data-ttu-id="c9c46-233">En otros entornos más generalizados, la compresión de datos puede reducir el volumen de datos que se transmiten y minimizar el tiempo y los costos de transferencia, pero los procesos de compresión y descompresión se verán sobrecargados.</span><span class="sxs-lookup"><span data-stu-id="c9c46-233">In other, more generalized environments, data compression can reduce the volume of data transmitted and minimize transfer time and costs, but the compression and decompression processes incur overhead.</span></span> <span data-ttu-id="c9c46-234">Por lo tanto, la compresión solo se debe usar cuando haya un aumento de rendimiento demostrable.</span><span class="sxs-lookup"><span data-stu-id="c9c46-234">As such, compression should only be used when there is a demonstrable gain in performance.</span></span> <span data-ttu-id="c9c46-235">Otros métodos de serialización, como la codificación JSON o binaria, pueden reducir el tamaño de carga a la vez que tienen menos impacto en el rendimiento, mientras que XML es probable que lo aumente.</span><span class="sxs-lookup"><span data-stu-id="c9c46-235">Other serialization methods, such as JSON or binary encodings, may reduce the payload size while having less impact on performance, whereas XML is likely to increase it.</span></span>
* <span data-ttu-id="c9c46-236">**Minimizar el tiempo que las conexiones y los recursos están en uso**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-236">**Minimize the time that connections and resources are in use**.</span></span> <span data-ttu-id="c9c46-237">Mantenga los recursos y las conexiones solo si necesita utilizarlos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-237">Maintain connections and resources only for as long as you need to use them.</span></span> <span data-ttu-id="c9c46-238">Por ejemplo, abra las conexiones lo más tarde posible y permita que se devuelven al grupo de conexiones en cuanto pueda.</span><span class="sxs-lookup"><span data-stu-id="c9c46-238">For example, open connections as late as possible, and allow them to be returned to the connection pool as soon as possible.</span></span> <span data-ttu-id="c9c46-239">Adquiera recursos tan tarde como sea posible y deshágase de ellos tan pronto como sea posible.</span><span class="sxs-lookup"><span data-stu-id="c9c46-239">Acquire resources as late as possible, and dispose of them as soon as possible.</span></span>
* <span data-ttu-id="c9c46-240">**Minimizar el número de conexiones necesarias**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-240">**Minimize the number of connections required**.</span></span> <span data-ttu-id="c9c46-241">Las conexiones de servicio absorben recursos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-241">Service connections absorb resources.</span></span> <span data-ttu-id="c9c46-242">Siempre que sea posible, limite el número necesario y asegúrese de que se reutilizan las conexiones existentes.</span><span class="sxs-lookup"><span data-stu-id="c9c46-242">Limit the number that are required and ensure that existing connections are reused whenever possible.</span></span> <span data-ttu-id="c9c46-243">Por ejemplo, después de realizar la autenticación, utilice la suplantación cuando sea necesario para ejecutar código como identidad específica.</span><span class="sxs-lookup"><span data-stu-id="c9c46-243">For example, after performing authentication, use impersonation where appropriate to run code as a specific identity.</span></span> <span data-ttu-id="c9c46-244">Esto puede ayudar a hacer un mejor uso del grupo de conexiones gracias a su reutilización.</span><span class="sxs-lookup"><span data-stu-id="c9c46-244">This can help to make best use of the connection pool by reusing connections.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="c9c46-245">: Las API de algunos servicios reutilizarán automáticamente las conexiones, siempre que se sigan las directrices específicas del servicio.</span><span class="sxs-lookup"><span data-stu-id="c9c46-245">: APIs for some services automatically reuse connections, provided service-specific guidelines are followed.</span></span> <span data-ttu-id="c9c46-246">Es importante comprender las condiciones que permiten la reutilización de las conexiones para cada servicio que usa la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c9c46-246">It's important that you understand the conditions that enable connection reuse for each service that your application uses.</span></span>
  > 
  > 
* <span data-ttu-id="c9c46-247">**Enviar solicitudes por lotes para optimizar el uso de red**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-247">**Send requests in batches to optimize network use**.</span></span> <span data-ttu-id="c9c46-248">Por ejemplo, envíe y lea mensajes en lotes al tener acceso a una cola y realice varias lecturas o escrituras como lote si tiene acceso a un almacenamiento o a una memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c9c46-248">For example, send and read messages in batches when accessing a queue, and perform multiple reads or writes as a batch when accessing storage or a cache.</span></span> <span data-ttu-id="c9c46-249">Esto puede ayudar a maximizar la eficiencia de los servicios y almacenes de datos al reducir el número de llamadas a través de la red.</span><span class="sxs-lookup"><span data-stu-id="c9c46-249">This can help to maximize efficiency of the services and data stores by reducing the number of calls across the network.</span></span>
* <span data-ttu-id="c9c46-250">**Evitar un requisito para almacenar el estado de la sesión del servidor** siempre que sea posible.</span><span class="sxs-lookup"><span data-stu-id="c9c46-250">**Avoid a requirement to store server-side session state** where possible.</span></span> <span data-ttu-id="c9c46-251">La administración del estado de sesión del servidor requiere normalmente la afinidad del cliente (es decir, el enrutamiento de cada solicitud a la misma instancia de servidor), lo que afecta a la posibilidad de escalado del sistema.</span><span class="sxs-lookup"><span data-stu-id="c9c46-251">Server-side session state management typically requires client affinity (that is, routing each request to the same server instance), which affects the ability of the system to scale.</span></span> <span data-ttu-id="c9c46-252">Lo más adecuado es diseñar clientes que no tengan estado con respecto a los servidores que utilizan.</span><span class="sxs-lookup"><span data-stu-id="c9c46-252">Ideally, you should design clients to be stateless with respect to the servers that they use.</span></span> <span data-ttu-id="c9c46-253">Sin embargo, si la aplicación debe mantener el estado de sesión, almacene datos confidenciales o grandes volúmenes de datos por cliente en una caché distribuida del servidor a la que puedan tener acceso todas las instancias de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c9c46-253">However, if the application must maintain session state, store sensitive data or large volumes of per-client data in a distributed server-side cache that all instances of the application can access.</span></span>
* <span data-ttu-id="c9c46-254">**Optimizar esquemas de almacenamiento de tablas**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-254">**Optimize table storage schemas**.</span></span> <span data-ttu-id="c9c46-255">Al utilizar almacenes de tablas que necesitan pasar y procesar nombres de tablas y columnas, como el almacenamiento de tablas de Azure, considere la posibilidad de usar nombres más cortos para reducir esta sobrecarga.</span><span class="sxs-lookup"><span data-stu-id="c9c46-255">When using table stores that require the table and column names to be passed and processed with every query, such as Azure table storage, consider using shorter names to reduce this overhead.</span></span> <span data-ttu-id="c9c46-256">Sin embargo, no sacrifique la legibilidad o la facilidad de administración usando nombres excesivamente compactos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-256">However, do not sacrifice readability or manageability by using overly compact names.</span></span>
* <span data-ttu-id="c9c46-257">**Usar la biblioteca (TPL) para realizar operaciones asincrónicas**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-257">**Use the Task Parallel Library (TPL) to perform asynchronous operations**.</span></span> <span data-ttu-id="c9c46-258">La biblioteca TPL facilita la escritura de código asincrónico que realiza operaciones dependientes de E/S.</span><span class="sxs-lookup"><span data-stu-id="c9c46-258">The TPL makes it easy to write asynchronous code that performs I/O-bound operations.</span></span> <span data-ttu-id="c9c46-259">Use *ConfigureAwait(false)* siempre que sea posible para eliminar la dependencia de una continuación en un contexto de sincronización específico.</span><span class="sxs-lookup"><span data-stu-id="c9c46-259">Use *ConfigureAwait(false)* wherever possible to eliminate the dependency of a continuation on a specific synchronization context.</span></span> <span data-ttu-id="c9c46-260">De esta forma se reducen las posibilidades de que se produzca un interbloqueo de subprocesos.</span><span class="sxs-lookup"><span data-stu-id="c9c46-260">This reduces the chances of thread-deadlock occurring.</span></span>
* <span data-ttu-id="c9c46-261">**Crear dependencias de recursos durante la implementación o al iniciar la aplicación**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-261">**Create resource dependencies during deployment or at application startup**.</span></span> <span data-ttu-id="c9c46-262">Evite llamadas repetidas a métodos que prueban la existencia de un recurso y que luego crean el recurso si no existe.</span><span class="sxs-lookup"><span data-stu-id="c9c46-262">Avoid repeated calls to methods that test the existence of a resource and then create the resource if it does not exist.</span></span> <span data-ttu-id="c9c46-263">(Métodos como *CloudTable.CreateIfNotExists* y *CloudQueue.CreateIfNotExists* en la Biblioteca del cliente de Azure Storage siguen este patrón).</span><span class="sxs-lookup"><span data-stu-id="c9c46-263">(Methods such as *CloudTable.CreateIfNotExists* and *CloudQueue.CreateIfNotExists* in the Azure Storage Client Library follow this pattern).</span></span> <span data-ttu-id="c9c46-264">Estos métodos pueden suponer una sobrecarga considerable si se invocan antes de cada acceso a una tabla de almacenamiento o una cola de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c9c46-264">These methods can impose considerable overhead if they are invoked before each access to a storage table or storage queue.</span></span> <span data-ttu-id="c9c46-265">En su lugar:</span><span class="sxs-lookup"><span data-stu-id="c9c46-265">Instead:</span></span>
  * <span data-ttu-id="c9c46-266">Cree los recursos necesarios al implementar la aplicación o al iniciarla por primera vez (es aceptable una única llamada a *CreateIfNotExists* para cada recurso en el código de inicio para un rol web o de trabajo).</span><span class="sxs-lookup"><span data-stu-id="c9c46-266">Create the required resources when the application is deployed, or when it first starts (a single call to *CreateIfNotExists* for each resource in the startup code for a web or worker role is acceptable).</span></span> <span data-ttu-id="c9c46-267">Sin embargo, asegúrese de controlar las excepciones que pueden surgir si el código intenta obtener acceso a un recurso que no existe.</span><span class="sxs-lookup"><span data-stu-id="c9c46-267">However, be sure to handle exceptions that may arise if your code attempts to access a resource that doesn't exist.</span></span> <span data-ttu-id="c9c46-268">En estas situaciones, debe registrar la excepción y posiblemente avisar a un operador de que falta un recurso.</span><span class="sxs-lookup"><span data-stu-id="c9c46-268">In these situations, you should log the exception, and possibly alert an operator that a resource is missing.</span></span>
  * <span data-ttu-id="c9c46-269">En algunas circunstancias, puede ser adecuado crear el recurso que falta como parte del código de control de excepciones.</span><span class="sxs-lookup"><span data-stu-id="c9c46-269">Under some circumstances, it may be appropriate to create the missing resource as part of the exception handling code.</span></span> <span data-ttu-id="c9c46-270">Sin embargo, debe tener cuidado al adoptar este enfoque dado que la no existencia del recurso podría ser indicio de un error de programación (un nombre de recurso mal escrito, por ejemplo) o de algún otro problema de nivel de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="c9c46-270">But you should adopt this approach with caution as the non-existence of the resource might be indicative of a programming error (a misspelled resource name for example), or some other infrastructure-level issue.</span></span>
* <span data-ttu-id="c9c46-271">**Uso de marcos de trabajo ligeros**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-271">**Use lightweight frameworks**.</span></span> <span data-ttu-id="c9c46-272">Elija cuidadosamente las API y los marcos de trabajo que utiliza para minimizar el uso de recursos, el tiempo de ejecución y la carga general de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c9c46-272">Carefully choose the APIs and frameworks you use to minimize resource usage, execution time, and overall load on the application.</span></span> <span data-ttu-id="c9c46-273">Por ejemplo, el uso de Web API para controlar las solicitudes de servicio puede reducir la superficie de la aplicación y aumentar la velocidad de ejecución, pero es posible que no resulte adecuado para escenarios avanzados en los que se requieren funciones de Windows Communication Foundation adicionales.</span><span class="sxs-lookup"><span data-stu-id="c9c46-273">For example, using Web API to handle service requests can reduce the application footprint and increase execution speed, but it may not be suitable for advanced scenarios where the additional capabilities of Windows Communication Foundation are required.</span></span>
* <span data-ttu-id="c9c46-274">**Posibilidad de reducir el número de cuentas de servicio**.</span><span class="sxs-lookup"><span data-stu-id="c9c46-274">**Consider minimizing the number of service accounts**.</span></span> <span data-ttu-id="c9c46-275">Por ejemplo, utilice una cuenta específica para obtener acceso a recursos o servicios que imponen un límite de conexiones o consiga un mejor rendimiento manteniendo menos conexiones.</span><span class="sxs-lookup"><span data-stu-id="c9c46-275">For example, use a specific account to access resources or services that impose a limit on connections, or perform better where fewer connections are maintained.</span></span> <span data-ttu-id="c9c46-276">Este enfoque es común para servicios como bases de datos pero puede afectar a la capacidad de auditar con precisión las operaciones debido a la suplantación del usuario original.</span><span class="sxs-lookup"><span data-stu-id="c9c46-276">This approach is common for services such as databases, but it can affect the ability to accurately audit operations due to the impersonation of the original user.</span></span>
* <span data-ttu-id="c9c46-277">**Realización de pruebas de generación de perfiles de rendimiento y de carga** durante el desarrollo, como parte de las rutinas de prueba y antes de la versión final para asegurarse de que la aplicación funciona y escala como corresponde.</span><span class="sxs-lookup"><span data-stu-id="c9c46-277">**Carry out performance profiling and load testing** during development, as part of test routines, and before final release to ensure the application performs and scales as required.</span></span> <span data-ttu-id="c9c46-278">Estas pruebas deben realizarse en el mismo tipo de hardware que la plataforma de producción y con los mismos tipos y cantidades de datos y de carga de usuarios que se encontrarán en producción.</span><span class="sxs-lookup"><span data-stu-id="c9c46-278">This testing should occur on the same type of hardware as the production platform, and with the same types and quantities of data and user load as it will encounter in production.</span></span> <span data-ttu-id="c9c46-279">Para más información, consulte [Testing the performance of a cloud service](/azure/vs-azure-tools-performance-profiling-cloud-services/)(Prueba de rendimiento de un servicio en la nube).</span><span class="sxs-lookup"><span data-stu-id="c9c46-279">For more information, see [Testing the performance of a cloud service](/azure/vs-azure-tools-performance-profiling-cloud-services/).</span></span>

